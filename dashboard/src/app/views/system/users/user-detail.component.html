<form
  class="form-horizontal form-label-left"
  skipValidation
  [formGroup]="form"
  (ngSubmit)="saveChange()"
>
  <p-panel
    #pnlDetail
    header="Thông tin"
    [toggleable]="true"
    [collapsed]="false"
  >
    <div class="formgrid grid">
      <div class="field col-12 mb-3 md:col-6">
        <label for="userName">Tài khoản <span class="required">*</span></label>
        <input
          id="userName"
          type="text"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="userName"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="userName"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field col-12 mb-3 md:col-6">
        <label for="password">Mật khẩu <span class="required">*</span></label>
        <input
          id="password"
          type="password"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="password"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="password"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field col-12 mb-3 md:col-6">
        <label for="lastName" class="block"
          >Họ <span class="required">*</span></label
        >
        <input
          id="lastName"
          type="text"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="lastName"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="lastName"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field col-12 mb-3 md:col-6">
        <label for="firstName" class="block"
          >Tên <span class="required">*</span></label
        >
        <input
          id="firstName"
          type="text"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="firstName"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="firstName"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field col-12 mb-3 md:col-6">
        <label for="phoneNumber"
          >Số điện thoại<span class="required">*</span></label
        >
        <input
          id="phoneNumber"
          type="text"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="phoneNumber"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="phoneNumber"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field col-12 mb-3 md:col-6">
        <label for="email">Email <span class="required">*</span></label>
        <input
          id="email"
          type="text"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="email"
          class="form-control"
        />
        <app-validation-message
          [entityForm]="form"
          fieldName="email"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>

      <div class="field col-12 mb-3 md:col-4">
        <label for="dob">Ngày sinh</label>
        <input
          id="dob"
          type="date"
          pInputText
          [pKeyFilter]="noSpecial"
          formControlName="dob"
          class="form-control"
        />
      </div>

      <div class="field col-12">
        <label for="avatarFile">Ảnh đại diện</label>
        <input
          id="avatarFile"
          (change)="onFileChange($event)"
          type="file"
          class="form-control"
        />
        <p-image
          *ngIf="avatarImage"
          [src]="avatarImage"
          [preview]="true"
          width="250"
        >
        </p-image>
      </div>
      <div class="field col-12 mb-3 md:col-12">
        <label for="royaltyAmountPerPost">Nhuận bút/bài</label>
        <p-inputNumber
          id="royaltyAmountPerPost"
          formControlName="royaltyAmountPerPost"
          class="form-control"
        >
        </p-inputNumber>
        <app-validation-message
          [entityForm]="form"
          fieldName="royaltyAmountPerPost"
          [validationMessages]="validationMessages"
        >
        </app-validation-message>
      </div>
      <div class="field-checkbox col-12 md:col-3">
        <p-checkbox
          formControlName="isActive"
          [binary]="true"
          id="isActive"
        ></p-checkbox>
        <label for="isActive" class="mx-2">Kích hoạt</label>
      </div>
    </div>
    <ng-template pTemplate="footer">
      <button type="submit" pButton [disabled]="!form.valid || btnDisabled">
        Lưu lại
      </button>
    </ng-template>

    <p-blockUI [target]="pnlDetail" [blocked]="blockedPanelDetail">
      <p-progressSpinner
        [style]="{
          width: '100px',
          height: '100px',
          position: 'absolute',
          top: '25%',
          left: '50%'
        }"
        strokeWidth="2"
        animationDuration=".5s"
      ></p-progressSpinner>
    </p-blockUI>
  </p-panel>
</form>
